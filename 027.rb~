require 'prime'
max_primes = 0
max_a = 0
max_b = 0

def find_max_quad(a, b)
    max = 0
    current = 0
    while Prime.prime?(current**2 + a*current + b) 
        current+=1
    end
    max = current if current > max

    return max
end


(0..1000).each do |a|
    (0..1000).each do |b|
        current = find_max_quad(a, b)
        if max_primes < current
            max_primes = current
            max_a = a
            max_b = b
        end
    end
end

puts "The maximum primes is #{max_primes}"
puts "With a being #{max_a}, b being #{max_b}"
puts "Final answer is #{max_a*max_b}"
